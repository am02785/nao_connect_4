import naoqiimport threadingimport time# The movement joints of the right arm# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pyRIGHT_ARM_CHAIN = ["RShoulderPitch", "RShoulderRoll", "RElbowRoll", "RElbowYaw", "RWristYaw"]# The angles of the right arm in radians# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pyINTERMEDIATE_TOP = [1.56, -1.22, 0.03, 1.31, -0.44]INTERMEDIATE_BOTTOM = [1.56, 1.22, -0.03, -1.31, -0.44]RIGHT_ARM_ALONGSIDE_BODY = [1.62, -0.32, 0.03, 1.31, -0.44]PERPENDICULAR = [-0.07, 0.05, -0.55, -1.29, -0.77]RAISED = [-1.22, 0.05, -0.55, -1.29, -0.77]HEAD_SENSOR_MODULE_NAME = "HeadSensor"ip_address = "127.0.0.1"port =  9559broker = naoqi.ALBroker("myBroker", "0.0.0.0", 0, ip_address, port)motion = naoqi.ALProxy("ALMotion")motion.setStiffnesses("Body", 1.0)memory = naoqi.ALProxy("ALMemory")head_touched = threading.Event()# A callback module which reacts to head touched events# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/connect4nao.pyclass HeadSensor(naoqi.ALModule):    def __init__(self):        self.__module_name = "HeadSensor"        naoqi.ALModule.__init__(self, self.__module_name)    # called when the head has been touched    # used https://github.com/Angeall/pyConnect4NAO/blob/master/src/connect4nao.py    def headTouched(self):        memory.unsubscribeToEvent("FrontTactilTouched", HEAD_SENSOR_MODULE_NAME)        memory.unsubscribeToEvent("MiddleTactilTouched", HEAD_SENSOR_MODULE_NAME)        memory.unsubscribeToEvent("RearTactilTouched", HEAD_SENSOR_MODULE_NAME)        head_touched.set()# moves the right arm perpendicular to the body# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pydef set_right_arm_perpendicular_to_body():    motion.angleInterpolation(RIGHT_ARM_CHAIN, PERPENDICULAR, 2., True)# moves the right arm alongside body# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pydef set_right_arm_alongside_body():    motion.angleInterpolation(RIGHT_ARM_CHAIN, INTERMEDIATE_TOP, 2., True)    motion.angleInterpolation(RIGHT_ARM_CHAIN, INTERMEDIATE_BOTTOM, 2., True)    motion.angleInterpolation(RIGHT_ARM_CHAIN, RIGHT_ARM_ALONGSIDE_BODY, 2., True)# Raises the right arm# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pydef set_right_arm_raised():    motion.angleInterpolation(RIGHT_ARM_CHAIN, INTERMEDIATE_BOTTOM, 2., True)    motion.angleInterpolation(RIGHT_ARM_CHAIN, INTERMEDIATE_TOP, 2., True)    motion.angleInterpolation(RIGHT_ARM_CHAIN, RAISED, 2., True)# Closes the right hand in the right arm and then raises it# used https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pydef close_and_raise_right_arm():    motion.closeHand("RHand")    motion.angleInterpolation(RIGHT_ARM_CHAIN, RAISED, 2., True)# Makes the nao robot walk to the grid, drop the counter in# grid, and then walk back to its initial position# https://github.com/Angeall/pyConnect4NAO/blob/master/src/nao/controller/motion.pydef drop_counter_in_grid(hole_number):    motion.closeHand("RHand")    id = motion.post.moveTo(0.5, 0, 0)    motion.wait(id, 0)    id = motion.post.moveTo(0, (hole_number-4)*0.01, 0)    set_right_arm_raised()    set_right_arm_perpendicular_to_body()    motion.openHand("RHand")    close_and_raise_right_arm()    set_right_arm_alongside_body()    id = motion.post.moveTo(0, -((hole_number-4)*0.01), 0)    motion.wait(id, 0)    id = motion.post.moveTo(-0.5, 0, 0)    motion.wait(id,0)# Waits for the player to put a counter in# the right handdef wait_for_counter(hole_number):    for x in range(18):        time.sleep(1)        motion.openHand("RHand")    drop_counter_in_grid(hole_number)    head_touched.clear()#head_sensor = HeadSensor()#memory.subscribeToEvent("FrontTactilTouched", "callbackObject", HEAD_SENSOR_MODULE_NAME)#memory.subscribeToEvent("MiddleTactilTouched", "callbackObject", HEAD_SENSOR_MODULE_NAME)#memory.subscribeToEvent("RearTactilTouched", "callbackObject", HEAD_SENSOR_MODULE_NAME)